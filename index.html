<!doctype html>
<html lang="en">
  <head>
    <!-- <style>
      #splashScreen {
        position: fixed;
        inset: 0;
        z-index: 9999;
        background: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 1;
        transition: opacity 0.5s;
      }
      #splashScreen.splash--hidden {
        opacity: 0;
        pointer-events: none;
      }
      .splash__logo {
        width: 150px;
        height: 150px;
        object-fit: contain;
        display: block;
      }
      @media (min-width: 768px) {
        .splash__logo {
          width: 200px;
          height: 200px;
        }
      }
      @media (min-width: 1280px) {
        .splash__logo {
          width: 250px;
          height: 250px;
        }
      }
    </style> -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="color-scheme" content="light dark" />
    <!-- Dynamic theme color - updated by theme-service.js -->
    <meta name="theme-color" content="#dfdfdf" />
    <meta
      name="description"
      content="Join - Kanban Project Management Tool. Organize your tasks efficiently with our intuitive board system."
    />

    <title>Join - Project Management</title>

    <link rel="stylesheet" href="./css/base/variables.css" />
    <link rel="stylesheet" href="./css/base/reset.css" />
    <link rel="stylesheet" href="./css/base/fonts.css" />
    <link rel="stylesheet" href="./css/components/splash.css" />

    <script type="importmap">
      {
        "imports": {
          "firebase/app": "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js",
          "firebase/firestore": "https://www.gstatic.com/firebasejs/11.1.0/firebase-firestore.js",
          "firebase/auth": "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js"
        }
      }
    </script>

    <!-- Prevent automatic install prompt ASAP (must be first) -->
    <script>
      console.log("[Debug] Page loading...");
      window.addEventListener("beforeinstallprompt", (event) => {
        console.log("[Install Prompt] Preventing automatic browser prompt");
        event.preventDefault();
      });
      window.addEventListener("error", (event) => {
        console.error("[Debug] Global error:", event.error);
      });
    </script>

    <!-- Services -->
    <script type="module">
      console.log("[Debug] Services loading...");
    </script>
    <script type="module" src="./js/shared/theme-service.js"></script>
    <script type="module" src="./js/shared/install-prompt.js"></script>
    <script type="module" src="./js/shared/sw-update.js"></script>
    <script type="module" src="./config/firebase.config.js"></script>
    <script type="module" src="./services/firestore.service.js"></script>
    <script type="module" src="./services/auth.service.js"></script>
    <script type="module">
      console.log("[Debug] All services loaded");
    </script>

    <!-- Landing Page Script -->
    <script type="module" src="./js/pages/landing__init.js"></script>
  </head>

  <body>
    <!-- <div id="splashScreen" class="splash">
      <div class="splash__logo-container">
        <img
          src="./assets/img/shared/join-logo-blue.svg"
          alt="Join Logo"
          class="splash__logo"
        />
      </div>
    </div> -->
  </body>
</html>
