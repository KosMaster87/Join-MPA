<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light dark" />
    <meta
      name="description"
      content="Join - Create your account to start managing your projects efficiently."
    />

    <title>Join - Sign Up</title>

    <link
      rel="icon"
      type="image/svg+xml"
      href="./assets/img/shared/join-logo-white.svg"
    />

    <link rel="stylesheet" href="../css/base/variables.css" />
    <link rel="stylesheet" href="../css/base/reset.css" />
    <link rel="stylesheet" href="../css/base/fonts.css" />
    <link rel="stylesheet" href="../css/pages/register.css" />
    <link rel="stylesheet" href="../css/layout/auth-layout.css" />
    <link rel="stylesheet" href="../css/components/toast.css" />

    <script type="importmap">
      {
        "imports": {
          "firebase/app": "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js",
          "firebase/firestore": "https://www.gstatic.com/firebasejs/11.1.0/firebase-firestore.js",
          "firebase/auth": "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js"
        }
      }
    </script>

    <!-- Services -->
    <script type="module" src="../js/shared/theme-service.js"></script>
    <script type="module" src="../config/firebase.config.js"></script>
    <script type="module" src="../services/firestore.service.js"></script>
    <script type="module" src="../services/auth.service.js"></script>
    <script type="module" src="../services/data.service.js"></script>

    <!-- Shared utilities -->
    <script type="module" src="../js/shared/include-html.js"></script>
    <script type="module" src="../js/shared/validators.js"></script>
    <script type="module" src="../js/shared/ui-helpers.js"></script>

    <!-- Auth modules -->
    <script type="module" src="../js/auth/auth__register.js"></script>
  </head>

  <body>
    <div class="register__content-wrapper">
      <div w3-include-html="../assets/templates/toast.html"></div>

      <a href="../index.html" class="register__logo">
        <img
          class="register__img"
          src="./../assets/img/shared/join-logo-blue.svg"
          alt="Join Logo"
        />
      </a>

      <main class="auth-layout register">
        <div class="register__box">
          <div class="register__header">
            <button
              id="backToLoginBtn"
              type="button"
              class="register__back-btn"
              aria-label="Back to login"
            >
              <img
                src="../assets/img/shared/arrow-left-default.svg"
                alt="Back"
              />
            </button>

            <div class="register__header-center">
              <h1 class="register__title">Sign up</h1>
              <div class="register__divider"></div>
            </div>
          </div>

          <form id="registerForm" class="register__form">
            <!-- Name Input -->
            <div class="register__input-group">
              <div class="register__input-wrapper" id="nameWrapper">
                <img
                  class="register__input-icon"
                  src="../assets/img/auth/person-default.svg"
                  alt=""
                />
                <input
                  type="text"
                  id="registerName"
                  name="name"
                  class="register__input"
                  placeholder="Full Name"
                  autocomplete="name"
                  required
                />
              </div>
              <span id="nameError" class="register__error"></span>
            </div>

            <!-- Email Input -->
            <div class="register__input-group">
              <div class="register__input-wrapper" id="emailWrapper">
                <img
                  class="register__input-icon"
                  src="../assets/img/auth/mail-default.svg"
                  alt=""
                />
                <input
                  type="email"
                  id="registerEmail"
                  name="email"
                  class="register__input"
                  placeholder="Email"
                  autocomplete="email"
                  required
                />
              </div>
              <span id="emailError" class="register__error"></span>
            </div>

            <!-- Password Input -->
            <div class="register__input-group">
              <div class="register__input-wrapper" id="passwordWrapper">
                <img
                  class="register__input-icon"
                  src="../assets/img/auth/lock-default.svg"
                  alt=""
                />
                <input
                  type="password"
                  id="registerPassword"
                  name="password"
                  class="register__input"
                  placeholder="Password"
                  autocomplete="new-password"
                  required
                />
                <img
                  id="passwordToggle"
                  class="register__input-toggle"
                  src="../assets/img/auth/visibility-off-default.svg"
                  alt=""
                />
              </div>
              <span id="passwordError" class="register__error"></span>
            </div>

            <!-- Confirm Password Input -->
            <div class="register__input-group">
              <div class="register__input-wrapper" id="confirmPasswordWrapper">
                <img
                  class="register__input-icon"
                  src="../assets/img/auth/lock-default.svg"
                  alt=""
                />
                <input
                  type="password"
                  id="registerConfirmPassword"
                  name="confirmPassword"
                  class="register__input"
                  placeholder="Confirm Password"
                  autocomplete="new-password"
                  required
                />
                <img
                  id="confirmPasswordToggle"
                  class="register__input-toggle"
                  src="../assets/img/auth/visibility-off-default.svg"
                  alt=""
                />
              </div>
              <span id="confirmPasswordError" class="register__error"></span>
            </div>

            <!-- Privacy Policy Checkbox -->
            <div class="register__privacy">
              <input
                type="checkbox"
                id="privacyPolicy"
                name="privacyPolicy"
                class="register__checkbox"
                required
              />
              <label for="privacyPolicy" class="register__privacy-label">
                I accept the
                <a
                  href="./policy.html"
                  target="_blank"
                  class="register__privacy-link"
                >
                  Privacy Policy
                </a>
              </label>
            </div>
            <span id="privacyError" class="register__error"></span>

            <!-- Buttons -->
            <div class="register__btn-group">
              <button
                type="submit"
                id="registerBtn"
                class="register__btn register__btn--primary"
              >
                Sign up
              </button>
            </div>
          </form>
        </div>
      </main>

      <div class="register__legal-row">
        <div class="mobilePolicyLegal" id="mobilePolicyLegal">
          <button type="button" class="mobilePolicyLegalLink" id="policyBtn">
            Privacy Policy
          </button>
          <button type="button" class="mobilePolicyLegalLink" id="legalBtn">
            Legal notice
          </button>
        </div>
      </div>

      <!-- Toast Container (for notifications) -->
      <div id="toastContainer" aria-live="polite" aria-atomic="true"></div>

      <!-- Loading Overlay -->
      <div id="loadingOverlay" style="display: none"></div>
    </div>
  </body>
</html>
