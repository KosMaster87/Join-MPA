<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Join - Dashboard overview of your tasks and projects."
    />

    <title>Join - Summary</title>

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/svg+xml"
      href="../assets/img/shared/join-logo-white.svg"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="../css/base/variables.css" />
    <link rel="stylesheet" href="../css/base/reset.css" />
    <link rel="stylesheet" href="../css/base/fonts.css" />
    <link rel="stylesheet" href="../css/layout/app-layout.css" />
    <link rel="stylesheet" href="../css/components/header.css" />
    <link rel="stylesheet" href="../css/components/menu.css" />
    <link rel="stylesheet" href="../css/pages/summary.css" />

    <!-- Firebase -->
    <script type="importmap">
      {
        "imports": {
          "firebase/app": "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js",
          "firebase/firestore": "https://www.gstatic.com/firebasejs/11.1.0/firebase-firestore.js",
          "firebase/auth": "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js"
        }
      }
    </script>

    <!-- Services -->
    <script type="module" src="../config/firebase.config.js"></script>
    <script type="module" src="../services/firestore.service.js"></script>
    <script type="module" src="../services/auth.service.js"></script>
    <script type="module" src="../services/data.service.js"></script>

    <!-- Shared utilities -->
    <script type="module" src="../js/shared/include-html.js"></script>
    <script type="module" src="../js/shared/ui-helpers.js"></script>

    <!-- Layout modules -->
    <script type="module" src="../js/layout/header__init.js"></script>
    <script type="module" src="../js/layout/menu__navigation.js"></script>

    <!-- Page module -->
    <script type="module" src="../js/summary/summary__init.js"></script>
  </head>

  <body>
    <!-- App Layout Container -->
    <div class="app-layout">
      <!-- Header -->
      <header
        class="app-layout__header"
        w3-include-html="../assets/templates/header.html"
      ></header>

      <!-- Sidebar Menu -->
      <nav
        class="app-layout__menu"
        w3-include-html="../assets/templates/menu.html"
      ></nav>

      <!-- Main Content -->
      <main class="app-layout__main">
        <div class="summary">
          <!-- Mobile Greeting (shows on login) -->
          <div class="summary__greeting-mobile hide" id="greetingsMobile">
            <p class="summary__greeting-mobile-text" id="greetingMobile"></p>
          </div>

          <div class="summary__content" id="summaryToDos">
            <!-- Stats Section -->
            <div class="summary__stats-wrapper">
              <!-- Header -->
              <div class="summary__header">
                <h1 class="summary__headline">Join 360</h1>
                <p class="summary__subheadline">Key Metrics at a Glance</p>
                <div class="summary__divider"></div>
              </div>

              <!-- Row 1: To-Do and Done -->
              <div class="summary__row summary__row--1">
                <div
                  class="summary__card summary__card--todo"
                  onclick="navigateToBoard()"
                >
                  <img
                    src="../assets/img/summary/pancil-default.svg"
                    alt="Edit"
                    class="summary__card-icon summary__card-icon--pencil"
                  />
                  <div class="summary__card-content">
                    <p class="summary__card-number" id="summaryTodoTodos">0</p>
                    <p class="summary__card-label">To-do</p>
                  </div>
                </div>

                <div
                  class="summary__card summary__card--done"
                  onclick="navigateToBoard()"
                >
                  <img
                    src="../assets/img/summary/check-default.svg"
                    alt="Check"
                    class="summary__card-icon summary__card-icon--check"
                  />
                  <div class="summary__card-content">
                    <p class="summary__card-number" id="summaryDoneTodos">0</p>
                    <p class="summary__card-label">Done</p>
                  </div>
                </div>
              </div>

              <!-- Row 2: Urgent with Deadline -->
              <div
                class="summary__card summary__card--urgent"
                onclick="navigateToBoard()"
              >
                <div class="summary__urgent-left">
                  <img
                    src="../assets/img/summary/urgency-default.svg"
                    alt="Urgent"
                    class="summary__card-icon"
                  />
                  <div class="summary__card-content">
                    <p class="summary__card-number" id="summaryUpcomingTasks">
                      0
                    </p>
                    <p class="summary__card-label">Urgent</p>
                  </div>
                </div>
                <div class="summary__urgent-right">
                  <div class="summary__urgent-divider"></div>
                  <div class="summary__deadline">
                    <p class="summary__deadline-date" id="summaryUrgentDate">
                      -
                    </p>
                    <p class="summary__deadline-label">Upcoming Deadline</p>
                  </div>
                </div>
              </div>

              <!-- Row 3: Board, Progress, Feedback -->
              <div class="summary__row summary__row--3">
                <div
                  class="summary__card summary__card--small"
                  onclick="navigateToBoard()"
                >
                  <div class="summary__card-content">
                    <p class="summary__card-number" id="dataTodos">0</p>
                    <p class="summary__card-label">Tasks in<br />Board</p>
                  </div>
                </div>

                <div
                  class="summary__card summary__card--small"
                  onclick="navigateToBoard()"
                >
                  <div class="summary__card-content">
                    <p class="summary__card-number" id="summaryProcessTasks">
                      0
                    </p>
                    <p class="summary__card-label">Tasks in<br />Progress</p>
                  </div>
                </div>

                <div
                  class="summary__card summary__card--small"
                  onclick="navigateToBoard()"
                >
                  <div class="summary__card-content">
                    <p class="summary__card-number" id="summaryAwaitingTask">
                      0
                    </p>
                    <p class="summary__card-label">Awaiting<br />Feedback</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Greeting Section (Desktop) -->
            <div class="summary__greeting-desktop">
              <h1 class="summary__greeting-time" id="greetingsDesktop">
                Good morning,
              </h1>
              <p class="summary__greeting-name" id="greetingNameDesktop">
                Guest
              </p>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" style="display: none"></div>
  </body>
</html>
