<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Join - Dashboard overview of your tasks and projects."
    />

    <title>Join - Summary</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="../assets/img/auth/logo.svg" />

    <!-- CSS -->
    <link rel="stylesheet" href="../css/base/variables.css" />
    <link rel="stylesheet" href="../css/base/reset.css" />
    <link rel="stylesheet" href="../css/base/fonts.css" />
    <link rel="stylesheet" href="../css/components/header.css" />
    <link rel="stylesheet" href="../css/components/menu.css" />
    <link rel="stylesheet" href="../css/pages/summary.css" />

    <!-- Firebase -->
    <script type="importmap">
      {
        "imports": {
          "firebase/app": "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js",
          "firebase/firestore": "https://www.gstatic.com/firebasejs/11.1.0/firebase-firestore.js",
          "firebase/auth": "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js"
        }
      }
    </script>

    <!-- Services -->
    <script type="module" src="../config/firebase.config.js"></script>
    <script type="module" src="../services/firestore.service.js"></script>
    <script type="module" src="../services/auth.service.js"></script>
    <script type="module" src="../services/data.service.js"></script>

    <!-- Shared utilities -->
    <script type="module" src="../js/shared/include-html.js"></script>
    <script type="module" src="../js/shared/ui-helpers.js"></script>

    <!-- Layout modules -->
    <script type="module" src="../js/layout/header__init.js"></script>
    <script type="module" src="../js/layout/menu__navigation.js"></script>

    <!-- Page module -->
    <script type="module" src="../js/summary/summary__init.js"></script>
  </head>

  <body>
    <!-- Header -->
    <div w3-include-html="../assets/templates/header.html"></div>

    <!-- Sidebar Menu -->
    <div w3-include-html="../assets/templates/menu.html"></div>

    <!-- Main Content -->
    <main class="summary">
      <div class="summary__container">
        <!-- Greeting Section -->
        <section class="summary__greeting">
          <h1 class="summary__greeting-time" id="greetingTime">Good morning,</h1>
          <p class="summary__greeting-name" id="greetingName">Guest</p>
        </section>

        <!-- Stats Grid -->
        <section class="summary__stats">
          <!-- To-Do -->
          <article class="summary__card summary__card--todo">
            <div class="summary__card-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M9 11l3 3L22 4" />
                <path
                  d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"
                />
              </svg>
            </div>
            <div class="summary__card-content">
              <p class="summary__card-number" id="todoCount">0</p>
              <p class="summary__card-label">To-Do</p>
            </div>
          </article>

          <!-- Done -->
          <article class="summary__card summary__card--done">
            <div class="summary__card-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
                <path d="M22 4L12 14.01l-3-3" />
              </svg>
            </div>
            <div class="summary__card-content">
              <p class="summary__card-number" id="doneCount">0</p>
              <p class="summary__card-label">Done</p>
            </div>
          </article>

          <!-- Urgent -->
          <article class="summary__card summary__card--urgent">
            <div class="summary__card-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <circle cx="12" cy="12" r="10" />
                <path d="M12 8v4M12 16h.01" />
              </svg>
            </div>
            <div class="summary__card-content">
              <p class="summary__card-number" id="urgentCount">0</p>
              <p class="summary__card-label">Urgent</p>
              <p class="summary__card-deadline" id="urgentDeadline">
                <span class="summary__deadline-date"></span>
                <span class="summary__deadline-label">Upcoming Deadline</span>
              </p>
            </div>
          </article>

          <!-- Tasks in Board -->
          <article class="summary__card summary__card--board">
            <div class="summary__card-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <rect x="3" y="3" width="7" height="7" />
                <rect x="14" y="3" width="7" height="7" />
                <rect x="14" y="14" width="7" height="7" />
                <rect x="3" y="14" width="7" height="7" />
              </svg>
            </div>
            <div class="summary__card-content">
              <p class="summary__card-number" id="boardCount">0</p>
              <p class="summary__card-label">Tasks in Board</p>
            </div>
          </article>

          <!-- In Progress -->
          <article class="summary__card summary__card--progress">
            <div class="summary__card-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"
                />
              </svg>
            </div>
            <div class="summary__card-content">
              <p class="summary__card-number" id="progressCount">0</p>
              <p class="summary__card-label">In Progress</p>
            </div>
          </article>

          <!-- Awaiting Feedback -->
          <article class="summary__card summary__card--feedback">
            <div class="summary__card-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"
                />
              </svg>
            </div>
            <div class="summary__card-content">
              <p class="summary__card-number" id="feedbackCount">0</p>
              <p class="summary__card-label">Awaiting Feedback</p>
            </div>
          </article>
        </section>
      </div>
    </main>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" style="display: none"></div>
  </body>
</html>
